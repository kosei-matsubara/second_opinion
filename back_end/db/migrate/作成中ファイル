class CreateArticles < ActiveRecord::Migration[7.0]
  def change
    create_table :articles do |t|
      t.integer :categories_id, null: false, comment: "お悩みカテゴリID"
      t.string :categories_01, limit: 30, comment: "カテゴリ_01"
      t.text :title, comment: "タイトル"
      t.text :background, comment: "背景"
      t.text :content, comment: "内容"
      t.integer :user_id, null: false, comment: "ユーザーID"
      
      t.timestamps
    end

    add_index :articles, :categories_id
    add_index :articles, :user_id
    add_foreign_key :articles, :categories, column: "categories_id"
    add_foreign_key :articles, :users, column: "user_id"
  end
end
